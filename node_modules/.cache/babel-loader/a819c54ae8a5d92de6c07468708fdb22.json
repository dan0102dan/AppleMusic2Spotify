{"ast":null,"code":"var _jsxFileName = \"/Users/daniildavydov/Downloads/applemusic2spotify/src/components/transfer-playlist/TransferPlaylist.js\";\nimport React from 'react';\nimport { Steps } from 'antd';\nimport { isLoggedIn } from '../../services/AuthService';\nimport AppleMusicPlaylist from '../../services/AppleMusicPlaylist';\nimport { getCurrentUser } from '../../services/ApiService';\nimport TransferPlaylistStep1 from './TransferPlaylistStep1';\nimport TransferPlaylistStep2 from './TransferPlaylistStep2';\nimport TransferPlaylistStep3 from './TransferPlaylistStep3';\nimport TransferPlaylistStep4 from './TransferPlaylistStep4';\nexport default class TransferPlaylist extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      isFetching: false,\n      isFetchingUser: false,\n      user: null,\n      step: 0\n    };\n    this.appleMusicPlaylist = new AppleMusicPlaylist({});\n  }\n\n  componentWillMount() {\n    if (isLoggedIn()) {\n      this.setState({\n        isFetchingUser: true\n      });\n      getCurrentUser().then(res => {\n        this.setState({\n          isFetchingUser: false,\n          user: res.data\n        });\n      }).catch(() => {\n        alert(`Couldn't fetch your data. Please refresh the page or try logging in again!`);\n      });\n    }\n  }\n\n  step1() {\n    return /*#__PURE__*/React.createElement(TransferPlaylistStep1, {\n      playlist: this.appleMusicPlaylist,\n      onUpload: () => {\n        this.setState({\n          step: 1\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 12\n      }\n    });\n  }\n\n  step2() {\n    return /*#__PURE__*/React.createElement(TransferPlaylistStep2, {\n      playlist: this.appleMusicPlaylist,\n      next: () => this.setState({\n        step: 2\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 12\n      }\n    });\n  }\n\n  step3() {\n    return /*#__PURE__*/React.createElement(TransferPlaylistStep3, {\n      playlist: this.appleMusicPlaylist,\n      nextStep: () => this.setState({\n        step: 3\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 12\n      }\n    });\n  }\n\n  step4() {\n    return /*#__PURE__*/React.createElement(TransferPlaylistStep4, {\n      user: this.state.user,\n      playlist: this.appleMusicPlaylist,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 12\n      }\n    });\n  }\n\n  content() {\n    switch (this.state.step) {\n      default:\n      case 0:\n        return this.step1();\n\n      case 1:\n        return this.step2();\n\n      case 2:\n        return this.step3();\n\n      case 3:\n        return this.step4();\n    }\n  }\n\n  render() {\n    const Step = Steps.Step;\n\n    if (!isLoggedIn()) {\n      return /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 14\n        }\n      }, \"To use this page, you need to log in.\");\n    }\n\n    if (this.state.isFetchingUser) {\n      return /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 14\n        }\n      }, \"Fetching your data...\");\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }\n    }, \"Transfer Playlist\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 35\n      }\n    }), /*#__PURE__*/React.createElement(Steps, {\n      current: this.state.step,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Step, {\n      title: \"Upload Playlist\",\n      description: \"Upload playlist file\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Step, {\n      title: \"Select Playlist Songs\",\n      description: \"Select specific songs of the playlist to transfer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Step, {\n      title: \"Find Playlist Songs\",\n      description: \"Search for playlist songs on Spotify\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Step, {\n      title: \"Import Songs\",\n      description: \"Import playlist songs to a Spotify playlist\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        marginTop: 50\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }\n    }, this.content()));\n  }\n\n}","map":{"version":3,"sources":["/Users/daniildavydov/Downloads/applemusic2spotify/src/components/transfer-playlist/TransferPlaylist.js"],"names":["React","Steps","isLoggedIn","AppleMusicPlaylist","getCurrentUser","TransferPlaylistStep1","TransferPlaylistStep2","TransferPlaylistStep3","TransferPlaylistStep4","TransferPlaylist","Component","constructor","state","isFetching","isFetchingUser","user","step","appleMusicPlaylist","componentWillMount","setState","then","res","data","catch","alert","step1","step2","step3","step4","content","render","Step","marginTop"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Steps } from 'antd';\n\nimport { isLoggedIn } from '../../services/AuthService';\nimport AppleMusicPlaylist from '../../services/AppleMusicPlaylist';\nimport { getCurrentUser } from '../../services/ApiService';\nimport TransferPlaylistStep1 from './TransferPlaylistStep1';\nimport TransferPlaylistStep2 from './TransferPlaylistStep2';\nimport TransferPlaylistStep3 from './TransferPlaylistStep3';\nimport TransferPlaylistStep4 from './TransferPlaylistStep4';\n\nexport default class TransferPlaylist extends React.Component {\n\n  state = {\n    isFetching    : false,\n    isFetchingUser: false,\n    user          : null,\n    step          : 0\n  };\n\n  constructor () {\n    super();\n    this.appleMusicPlaylist = new AppleMusicPlaylist({});\n  }\n\n  componentWillMount () {\n    if (isLoggedIn()) {\n      this.setState({\n        isFetchingUser: true\n      });\n      getCurrentUser()\n        .then((res) => {\n          this.setState({\n            isFetchingUser: false,\n            user          : res.data\n          });\n        })\n        .catch(() => {\n          alert(`Couldn't fetch your data. Please refresh the page or try logging in again!`);\n        });\n    }\n  }\n\n  step1 () {\n    return <TransferPlaylistStep1\n      playlist={this.appleMusicPlaylist}\n      onUpload={() => {\n        this.setState({\n          step: 1\n        });\n      }}\n    />;\n  }\n\n  step2 () {\n    return <TransferPlaylistStep2\n      playlist={this.appleMusicPlaylist}\n      next={() => this.setState({step: 2})}\n    />;\n  }\n\n  step3 () {\n    return <TransferPlaylistStep3\n      playlist={this.appleMusicPlaylist}\n      nextStep={() => this.setState({step: 3})}\n    />;\n  }\n\n  step4 () {\n    return <TransferPlaylistStep4\n      user={this.state.user}\n      playlist={this.appleMusicPlaylist}\n    />;\n  }\n\n  content () {\n    switch (this.state.step) {\n      default:\n      case 0:\n        return this.step1();\n      case 1:\n        return this.step2();\n      case 2:\n        return this.step3();\n      case 3:\n        return this.step4();\n    }\n  }\n\n  render () {\n    const Step = Steps.Step;\n    if (!isLoggedIn()) {\n      return <p>To use this page, you need to log in.</p>;\n    }\n    if (this.state.isFetchingUser) {\n      return <p>Fetching your data...</p>;\n    }\n    return (\n      <div>\n        <h2>Transfer Playlist</h2><br/>\n        <Steps current={this.state.step}>\n          <Step title=\"Upload Playlist\" description=\"Upload playlist file\"/>\n          <Step title=\"Select Playlist Songs\" description=\"Select specific songs of the playlist to transfer\"/>\n          <Step title=\"Find Playlist Songs\" description=\"Search for playlist songs on Spotify\"/>\n          <Step title=\"Import Songs\" description=\"Import playlist songs to a Spotify playlist\"/>\n        </Steps>\n        <div style={{marginTop: 50}}>\n          {this.content()}\n        </div>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}